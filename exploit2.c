#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void win() {
  printf("code flow successfully changed\n");
  fflush(stdout);
}

int main(int argc, char **argv) {
  volatile unsigned int (*fp)();
  char buffer[64];

  printf("Address of buffer: %p\n", (void*)buffer);
  printf("Address of fp: %p\n", (void*)&fp);

  fp = 0;
  gets(buffer);
  if(fp) {
    printf("calling function pointer, jumping to %p\n", fp);
    fp();
  }
  else
    printf("not enough data in buffer\n");
}
